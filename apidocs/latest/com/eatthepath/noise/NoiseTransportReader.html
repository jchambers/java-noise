<!DOCTYPE HTML>
<html lang="en">
<head>
<!-- Generated by javadoc (21) on Sun Mar 03 12:08:44 EST 2024 -->
<title>NoiseTransportReader (java-noise 0.0.0-SNAPSHOT API)</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta name="dc.created" content="2024-03-03">
<meta name="description" content="declaration: package: com.eatthepath.noise, interface: NoiseTransportReader">
<meta name="generator" content="javadoc/ClassWriterImpl">
<link rel="stylesheet" type="text/css" href="../../../stylesheet.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../script-dir/jquery-ui.min.css" title="Style">
<script type="text/javascript" src="../../../script.js"></script>
<script type="text/javascript" src="../../../script-dir/jquery-3.6.1.min.js"></script>
<script type="text/javascript" src="../../../script-dir/jquery-ui.min.js"></script>
</head>
<body class="class-declaration-page">
<script type="text/javascript">var pathtoroot = "../../../";
loadScripts(document, 'script');</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<div class="flex-box">
<header role="banner" class="flex-header">
<nav role="navigation">
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="top-nav" id="navbar-top"><button id="navbar-toggle-button" aria-controls="navbar-top" aria-expanded="false" aria-label="Toggle navigation links"><span class="nav-bar-toggle-icon">&nbsp;</span><span class="nav-bar-toggle-icon">&nbsp;</span><span class="nav-bar-toggle-icon">&nbsp;</span></button>
<div class="skip-nav"><a href="#skip-navbar-top" title="Skip navigation links">Skip navigation links</a></div>
<ul id="navbar-top-firstrow" class="nav-list" title="Navigation">
<li><a href="../../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="nav-bar-cell1-rev">Class</li>
<li><a href="class-use/NoiseTransportReader.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../index-all.html">Index</a></li>
<li><a href="../../../help-doc.html#class">Help</a></li>
</ul>
<ul class="sub-nav-list-small">
<li>
<p>Summary:</p>
<ul>
<li>Nested</li>
<li>Field</li>
<li>Constr</li>
<li><a href="#method-summary">Method</a></li>
</ul>
</li>
<li>
<p>Detail:</p>
<ul>
<li>Field</li>
<li>Constr</li>
<li><a href="#method-detail">Method</a></li>
</ul>
</li>
</ul>
</div>
<div class="sub-nav">
<div id="navbar-sub-list">
<ul class="sub-nav-list">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method-summary">Method</a></li>
</ul>
<ul class="sub-nav-list">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method-detail">Method</a></li>
</ul>
</div>
<div class="nav-list-search"><a href="../../../search.html">SEARCH</a>
<input type="text" id="search-input" disabled placeholder="Search">
<input type="reset" id="reset-button" disabled value="reset">
</div>
</div>
<!-- ========= END OF TOP NAVBAR ========= -->
<span class="skip-nav" id="skip-navbar-top"></span></nav>
</header>
<div class="flex-content">
<main role="main">
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="sub-title"><span class="package-label-in-type">Package</span>&nbsp;<a href="package-summary.html">com.eatthepath.noise</a></div>
<h1 title="Interface NoiseTransportReader" class="title">Interface NoiseTransportReader</h1>
</div>
<section class="class-description" id="class-description">
<dl class="notes">
<dt>All Known Subinterfaces:</dt>
<dd><code><a href="NoiseTransport.html" title="interface in com.eatthepath.noise">NoiseTransport</a></code></dd>
</dl>
<hr>
<div class="type-signature"><span class="modifiers">public interface </span><span class="element-name type-name-label">NoiseTransportReader</span></div>
<div class="block"><p>A Noise transport reader decrypts Noise transport messages. In the terminology of the Noise
 Protocol Framework specification, a <code>NoiseTransportReader</code> instance encapsulates a "cipher state" produced by
 "splitting" a <a href="NoiseHandshake.html" title="class in com.eatthepath.noise"><code>NoiseHandshake</code></a> instance.</p>

 <p>Noise transport reader instances are stateful and are <em>not</em> thread-safe.</p></div>
<dl class="notes">
<dt>See Also:</dt>
<dd>
<ul class="tag-list-long">
<li><a href="NoiseHandshake.html#toTransportReader()"><code>NoiseHandshake.toTransportReader()</code></a></li>
<li><a href="NoiseHandshake.html#toTransport()"><code>NoiseHandshake.toTransport()</code></a></li>
</ul>
</dd>
</dl>
</section>
<section class="summary">
<ul class="summary-list">
<!-- ========== METHOD SUMMARY =========== -->
<li>
<section class="method-summary" id="method-summary">
<h2>Method Summary</h2>
<div id="method-summary-table">
<div class="table-tabs" role="tablist" aria-orientation="horizontal"><button id="method-summary-table-tab0" role="tab" aria-selected="true" aria-controls="method-summary-table.tabpanel" tabindex="0" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table', 3)" class="active-table-tab">All Methods</button><button id="method-summary-table-tab2" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab2', 3)" class="table-tab">Instance Methods</button><button id="method-summary-table-tab3" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab3', 3)" class="table-tab">Abstract Methods</button></div>
<div id="method-summary-table.tabpanel" role="tabpanel">
<div class="summary-table three-column-summary" aria-labelledby="method-summary-table-tab0">
<div class="table-header col-first">Modifier and Type</div>
<div class="table-header col-second">Method</div>
<div class="table-header col-last">Description</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code>int</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="#getPlaintextLength(int)" class="member-name-link">getPlaintextLength</a><wbr>(int&nbsp;ciphertextLength)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3">
<div class="block">Returns the length of the plaintext resulting from the decryption of a ciphertext of the given size.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code>byte[]</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="#readMessage(byte%5B%5D)" class="member-name-link">readMessage</a><wbr>(byte[]&nbsp;ciphertext)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3">
<div class="block">Decrypts a Noise transport message, returning a new byte array sized exactly to contain the resulting plaintext.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code>int</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="#readMessage(byte%5B%5D,int,int,byte%5B%5D,int)" class="member-name-link">readMessage</a><wbr>(byte[]&nbsp;ciphertext,
 int&nbsp;ciphertextOffset,
 int&nbsp;ciphertextLength,
 byte[]&nbsp;plaintext,
 int&nbsp;plaintextOffset)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3">
<div class="block">Decrypts a Noise transport message and writes the resulting plaintext into the given byte array.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/nio/ByteBuffer.html" title="class or interface in java.nio" class="external-link">ByteBuffer</a></code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="#readMessage(java.nio.ByteBuffer)" class="member-name-link">readMessage</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/nio/ByteBuffer.html" title="class or interface in java.nio" class="external-link">ByteBuffer</a>&nbsp;ciphertext)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3">
<div class="block">Decrypts a Noise transport message and verifies its AEAD tag.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code>int</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="#readMessage(java.nio.ByteBuffer,java.nio.ByteBuffer)" class="member-name-link">readMessage</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/nio/ByteBuffer.html" title="class or interface in java.nio" class="external-link">ByteBuffer</a>&nbsp;ciphertext,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/nio/ByteBuffer.html" title="class or interface in java.nio" class="external-link">ByteBuffer</a>&nbsp;plaintext)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3">
<div class="block">Decrypts a Noise transport message and verifies its AEAD tag.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code>void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="#rekeyReader()" class="member-name-link">rekeyReader</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3">
<div class="block">Sets the decryption key used by this reader to a new pseudo-random key derived from the current key.</div>
</div>
</div>
</div>
</div>
</section>
</li>
</ul>
</section>
<section class="details">
<ul class="details-list">
<!-- ============ METHOD DETAIL ========== -->
<li>
<section class="method-details" id="method-detail">
<h2>Method Details</h2>
<ul class="member-list">
<li>
<section class="detail" id="getPlaintextLength(int)">
<h3>getPlaintextLength</h3>
<div class="member-signature"><span class="return-type">int</span>&nbsp;<span class="element-name">getPlaintextLength</span><wbr><span class="parameters">(int&nbsp;ciphertextLength)</span></div>
<div class="block">Returns the length of the plaintext resulting from the decryption of a ciphertext of the given size.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>ciphertextLength</code> - the length of a ciphertext</dd>
<dt>Returns:</dt>
<dd>the length of the plaintext resulting from the decryption of a ciphertext of the given size</dd>
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/IllegalArgumentException.html" title="class or interface in java.lang" class="external-link">IllegalArgumentException</a></code> - if the given ciphertext length is too small to contain a valid AEAD tag</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="readMessage(java.nio.ByteBuffer)">
<h3>readMessage</h3>
<div class="member-signature"><span class="return-type"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/nio/ByteBuffer.html" title="class or interface in java.nio" class="external-link">ByteBuffer</a></span>&nbsp;<span class="element-name">readMessage</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/nio/ByteBuffer.html" title="class or interface in java.nio" class="external-link">ByteBuffer</a>&nbsp;ciphertext)</span>
                throws <span class="exceptions"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/javax/crypto/AEADBadTagException.html" title="class or interface in javax.crypto" class="external-link">AEADBadTagException</a></span></div>
<div class="block">Decrypts a Noise transport message and verifies its AEAD tag. This method returns a new <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/nio/ByteBuffer.html" title="class or interface in java.nio" class="external-link"><code>ByteBuffer</code></a> sized exactly
 to contain the resulting plaintext. The returned buffer's position will be zero, and its limit and capacity will be
 equal to the plaintext length.
 <p>
 All <code>ciphertext.remaining()</code> bytes starting at <code>ciphertext.position()</code> are processed. Upon return, the
 ciphertext buffer's position will be equal to its limit; its limit will not have changed.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>ciphertext</code> - the ciphertext of the Noise transport message to decrypt</dd>
<dt>Returns:</dt>
<dd>a <code>ByteBuffer</code> containing the resulting plaintext</dd>
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/javax/crypto/AEADBadTagException.html" title="class or interface in javax.crypto" class="external-link">AEADBadTagException</a></code> - if the AEAD tag in the given ciphertext does not match the calculated value</dd>
<dd><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/IllegalArgumentException.html" title="class or interface in java.lang" class="external-link">IllegalArgumentException</a></code> - if the given ciphertext is too short to contain a valid AEAD tag or if it is
 larger than the maximum allowed Noise transport message size</dd>
<dt>See Also:</dt>
<dd>
<ul class="tag-list">
<li><a href="#getPlaintextLength(int)"><code>getPlaintextLength(int)</code></a></li>
</ul>
</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="readMessage(java.nio.ByteBuffer,java.nio.ByteBuffer)">
<h3>readMessage</h3>
<div class="member-signature"><span class="return-type">int</span>&nbsp;<span class="element-name">readMessage</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/nio/ByteBuffer.html" title="class or interface in java.nio" class="external-link">ByteBuffer</a>&nbsp;ciphertext,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/nio/ByteBuffer.html" title="class or interface in java.nio" class="external-link">ByteBuffer</a>&nbsp;plaintext)</span>
         throws <span class="exceptions"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/javax/crypto/ShortBufferException.html" title="class or interface in javax.crypto" class="external-link">ShortBufferException</a>,
<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/javax/crypto/AEADBadTagException.html" title="class or interface in javax.crypto" class="external-link">AEADBadTagException</a></span></div>
<div class="block">Decrypts a Noise transport message and verifies its AEAD tag. This method writes the resulting plaintext into the given
 <code>plaintext</code> buffer. Callers are responsible for ensuring that the given plaintext buffer has enough remaining
 capacity to hold the resulting plaintext.
 <p>
 All <code>ciphertext.remaining()</code> bytes starting at <code>ciphertext.position()</code> are processed. Upon return, the
 ciphertext buffer's position will be equal to its limit; its limit will not have changed. The plaintext buffer's
 position will have advanced by n, where n is the value returned by this method; the plaintext buffer's limit will
 not have changed.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>ciphertext</code> - the ciphertext of the Noise transport message to decrypt</dd>
<dd><code>plaintext</code> - the buffer into which to write the resulting plaintext</dd>
<dt>Returns:</dt>
<dd>the number of bytes written into the <code>plaintext</code> buffer</dd>
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/javax/crypto/AEADBadTagException.html" title="class or interface in javax.crypto" class="external-link">AEADBadTagException</a></code> - if the AEAD tag in the given ciphertext does not match the calculated value</dd>
<dd><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/IllegalArgumentException.html" title="class or interface in java.lang" class="external-link">IllegalArgumentException</a></code> - if the given ciphertext is too short to contain a valid AEAD tag or if it is
 larger than the maximum allowed Noise transport message size</dd>
<dd><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/javax/crypto/ShortBufferException.html" title="class or interface in javax.crypto" class="external-link">ShortBufferException</a></code> - if the given plaintext buffer does not have enough remaining capacity to hold the
 resulting plaintext</dd>
<dt>See Also:</dt>
<dd>
<ul class="tag-list">
<li><a href="#getPlaintextLength(int)"><code>getPlaintextLength(int)</code></a></li>
</ul>
</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="readMessage(byte[])">
<h3>readMessage</h3>
<div class="member-signature"><span class="return-type">byte[]</span>&nbsp;<span class="element-name">readMessage</span><wbr><span class="parameters">(byte[]&nbsp;ciphertext)</span>
            throws <span class="exceptions"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/javax/crypto/AEADBadTagException.html" title="class or interface in javax.crypto" class="external-link">AEADBadTagException</a></span></div>
<div class="block">Decrypts a Noise transport message, returning a new byte array sized exactly to contain the resulting plaintext.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>ciphertext</code> - the ciphertext of the Noise transport message to decrypt</dd>
<dt>Returns:</dt>
<dd>a new byte array containing the resulting plaintext</dd>
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/javax/crypto/AEADBadTagException.html" title="class or interface in javax.crypto" class="external-link">AEADBadTagException</a></code> - if the AEAD tag in the given ciphertext does not match the calculated AEAD tag</dd>
<dd><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/IllegalArgumentException.html" title="class or interface in java.lang" class="external-link">IllegalArgumentException</a></code> - if the given ciphertext is too short to contain a valid AEAD tag or if it is
 larger than the maximum allowed Noise transport message size</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="readMessage(byte[],int,int,byte[],int)">
<h3>readMessage</h3>
<div class="member-signature"><span class="return-type">int</span>&nbsp;<span class="element-name">readMessage</span><wbr><span class="parameters">(byte[]&nbsp;ciphertext,
 int&nbsp;ciphertextOffset,
 int&nbsp;ciphertextLength,
 byte[]&nbsp;plaintext,
 int&nbsp;plaintextOffset)</span>
         throws <span class="exceptions"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/javax/crypto/ShortBufferException.html" title="class or interface in javax.crypto" class="external-link">ShortBufferException</a>,
<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/javax/crypto/AEADBadTagException.html" title="class or interface in javax.crypto" class="external-link">AEADBadTagException</a></span></div>
<div class="block">Decrypts a Noise transport message and writes the resulting plaintext into the given byte array. Note that
 <code>ciphertext</code> and <code>plaintext</code> may refer to the same byte array, allowing for in-place decryption.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>ciphertext</code> - the ciphertext of the Noise transport message to decrypt</dd>
<dd><code>ciphertextOffset</code> - the position within <code>ciphertext</code> at which to begin reading the ciphertext and AEAD
                         tag</dd>
<dd><code>ciphertextLength</code> - the length of the ciphertext and AEAD tag within <code>ciphertext</code></dd>
<dd><code>plaintext</code> - a byte array into which to write the decrypted plaintext</dd>
<dd><code>plaintextOffset</code> - the offset within <code>plaintext</code> where the plaintext begins</dd>
<dt>Returns:</dt>
<dd>the number of bytes written to <code>plaintext</code></dd>
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/javax/crypto/AEADBadTagException.html" title="class or interface in javax.crypto" class="external-link">AEADBadTagException</a></code> - if the AEAD tag in the given ciphertext does not match the calculated value</dd>
<dd><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/javax/crypto/ShortBufferException.html" title="class or interface in javax.crypto" class="external-link">ShortBufferException</a></code> - if <code>plaintext</code> is not long enough (after its offset) to contain the resulting
 plaintext</dd>
<dd><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/IllegalArgumentException.html" title="class or interface in java.lang" class="external-link">IllegalArgumentException</a></code> - if the given ciphertext is too short to contain a valid AEAD tag or if it is
 larger than the maximum allowed Noise transport message size</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="rekeyReader()">
<h3>rekeyReader</h3>
<div class="member-signature"><span class="return-type">void</span>&nbsp;<span class="element-name">rekeyReader</span>()</div>
<div class="block">Sets the decryption key used by this reader to a new pseudo-random key derived from the current key. This operation
 must be coordinated with the sending party, otherwise messages from the sending party will be unintelligible and
 decrypting future messages will fail.</div>
</section>
</li>
</ul>
</section>
</li>
</ul>
</section>
<!-- ========= END OF CLASS DATA ========= -->
</main>
<footer role="contentinfo">
<hr>
<p class="legal-copy"><small>Copyright &#169; 2024. All rights reserved.</small></p>
</footer>
</div>
</div>
</body>
</html>
