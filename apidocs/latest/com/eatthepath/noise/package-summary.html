<!DOCTYPE HTML>
<html lang="en">
<head>
<!-- Generated by javadoc (21) on Sun Mar 03 12:08:44 EST 2024 -->
<title>com.eatthepath.noise (java-noise 0.0.0-SNAPSHOT API)</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta name="dc.created" content="2024-03-03">
<meta name="description" content="declaration: package: com.eatthepath.noise">
<meta name="generator" content="javadoc/PackageWriterImpl">
<link rel="stylesheet" type="text/css" href="../../../stylesheet.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../script-dir/jquery-ui.min.css" title="Style">
<script type="text/javascript" src="../../../script.js"></script>
<script type="text/javascript" src="../../../script-dir/jquery-3.6.1.min.js"></script>
<script type="text/javascript" src="../../../script-dir/jquery-ui.min.js"></script>
</head>
<body class="package-declaration-page">
<script type="text/javascript">var pathtoroot = "../../../";
loadScripts(document, 'script');</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<div class="flex-box">
<header role="banner" class="flex-header">
<nav role="navigation">
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="top-nav" id="navbar-top"><button id="navbar-toggle-button" aria-controls="navbar-top" aria-expanded="false" aria-label="Toggle navigation links"><span class="nav-bar-toggle-icon">&nbsp;</span><span class="nav-bar-toggle-icon">&nbsp;</span><span class="nav-bar-toggle-icon">&nbsp;</span></button>
<div class="skip-nav"><a href="#skip-navbar-top" title="Skip navigation links">Skip navigation links</a></div>
<ul id="navbar-top-firstrow" class="nav-list" title="Navigation">
<li><a href="../../../index.html">Overview</a></li>
<li class="nav-bar-cell1-rev">Package</li>
<li>Class</li>
<li><a href="package-use.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../index-all.html">Index</a></li>
<li><a href="../../../help-doc.html#package">Help</a></li>
</ul>
<ul class="sub-nav-list-small">
<li>
<p>Package:</p>
<ul>
<li><a href="#package-description">Description</a></li>
<li><a href="#related-package-summary">Related Packages</a></li>
<li><a href="#class-summary">Classes and Interfaces</a></li>
</ul>
</li>
</ul>
</div>
<div class="sub-nav">
<div id="navbar-sub-list">
<ul class="sub-nav-list">
<li>Package:&nbsp;</li>
<li><a href="#package-description">Description</a>&nbsp;|&nbsp;</li>
<li><a href="#related-package-summary">Related Packages</a>&nbsp;|&nbsp;</li>
<li><a href="#class-summary">Classes and Interfaces</a></li>
</ul>
</div>
<div class="nav-list-search"><a href="../../../search.html">SEARCH</a>
<input type="text" id="search-input" disabled placeholder="Search">
<input type="reset" id="reset-button" disabled value="reset">
</div>
</div>
<!-- ========= END OF TOP NAVBAR ========= -->
<span class="skip-nav" id="skip-navbar-top"></span></nav>
</header>
<div class="flex-content">
<main role="main">
<div class="header">
<h1 title="Package com.eatthepath.noise" class="title">Package com.eatthepath.noise</h1>
</div>
<hr>
<div class="package-signature">package <span class="element-name">com.eatthepath.noise</span></div>
<section class="package-description" id="package-description">
<div class="block"><p>Provides classes and interfaces for performing handshakes and exchanging messages via a Noise protocol. This
 package covers Noise handshakes and steady-state message transport.</p>

 <p>A Noise protocol begins with a handshake (see <a href="NoiseHandshake.html" title="class in com.eatthepath.noise"><code>NoiseHandshake</code></a>). During a handshake,
 two parties exchange messages containing key material and optional, possibly-encrypted payloads as prescribed by a
 chosen handshake pattern (see <code>HandshakePattern</code>). Once the handshake is complete, parties
 exchange an effectively unbounded sequence of encrypted messages via a
 <a href="NoiseTransport.html" title="interface in com.eatthepath.noise"><code>NoiseTransport</code></a>.</p>

 <h2 id="example-heading">Example</h2>

 <p>The following example illustrates constructing Noise handshakes and exchanging messages via a steady-state Noise
 transport. To begin, we choose a Noise protocol (in this case, <code>Noise_NN_25519_ChaChaPoly_SHA256</code>, which
 specifies an NN handshake pattern, an X25519 key agreement algorithm, a ChaCha20-Poly1305 cipher, and a
 SHA-256 hash). Then, we construct a pair of handshake objects. In most practical scenarios, the two "ends" of a
 handshake are likely to be controlled by different processes (e.g. a client and server), but for this example, we
 control both.</p>

 
<div class="snippet-container"><button class="copy snippet-copy" aria-label="Copy snippet" onclick="copySnippet(this)"><span data-copied="Copied!">Copy</span><img src="../../../copy.svg" alt="Copy snippet"></button>
<pre class="snippet"><code class="language-java">final String noiseProtocolName = "Noise_NN_25519_ChaChaPoly_SHA256";

final NoiseHandshake initiatorHandshake =
    new NamedProtocolHandshakeBuilder(noiseProtocolName, NoiseHandshake.Role.INITIATOR).build();

final NoiseHandshake responderHandshake =
    new NamedProtocolHandshakeBuilder(noiseProtocolName, NoiseHandshake.Role.RESPONDER).build();
</code></pre>
</div>


 <p>Note that in this case, we construct the handshake objects by providing a full Noise protocol name to a
 <a href="NamedProtocolHandshakeBuilder.html" title="class in com.eatthepath.noise"><code>NamedProtocolHandshakeBuilder</code></a>. For more complex handshake patterns, callers would be
 responsible for providing any keys required for the handshake. Callers may wish to use
 <a href="NoiseHandshakeBuilder.html" title="class in com.eatthepath.noise"><code>NoiseHandshakeBuilder</code></a> for more complex handshake patterns, since its static initializer
 methods provide compile-time assurances that the correct key material is provided for the chosen handshake pattern
 and role.</p>

 <p>The NN handshake pattern is defined as:</p>

 <pre>NN:
   -&gt; e
   &lt;- e, ee</pre>

 <p>To carry out the handshake, we pass messages between the initiator and responder handshakes for each message
 pattern in the handshake pattern. In the case of an NN handshake pattern, the initiator sends its ephemeral key to
 the responder. The responder receives and processes the ephemeral key message, then sends its own ephemeral key to
 the initiator and performs a DH key agreement operation between the two ephemeral keys. The initiator receives the
 responder's ephemeral key and performs the same key agreement operation.</p>

 
<div class="snippet-container"><button class="copy snippet-copy" aria-label="Copy snippet" onclick="copySnippet(this)"><span data-copied="Copied!">Copy</span><img src="../../../copy.svg" alt="Copy snippet"></button>
<pre class="snippet"><code class="language-java">// -&gt; e (with no additional payload)
final byte[] eMessage = initiatorHandshake.writeMessage((byte[]) null);
responderHandshake.readMessage(eMessage);

// &lt;- e, ee (with no additional payload)
final byte[] eEeMessage = responderHandshake.writeMessage((byte[]) null);
initiatorHandshake.readMessage(eEeMessage);

// At this point, the handshake is finished, and we can "split" the handshake into a Noise transport
assert initiatorHandshake.isDone();
assert responderHandshake.isDone();
</code></pre>
</div>


 <p>With the handshake finished, the handshake objects can be "split" (in the terminology of the Noise protocol) into
 steady-state transport channels, and then messages can be passed between the initiator and responder at will.</p>

 
<div class="snippet-container"><button class="copy snippet-copy" aria-label="Copy snippet" onclick="copySnippet(this)"><span data-copied="Copied!">Copy</span><img src="../../../copy.svg" alt="Copy snippet"></button>
<pre class="snippet"><code class="language-java">final NoiseTransport initiatorTransport = initiatorHandshake.toTransport();
final NoiseTransport responderTransport = responderHandshake.toTransport();

final byte[] plaintext = "Hello, world!".getBytes(StandardCharsets.UTF_8);
final byte[] ciphertext = initiatorTransport.writeMessage(plaintext);

final byte[] decryptedPlaintext = responderTransport.readMessage(ciphertext);

assert Arrays.equals(plaintext, decryptedPlaintext);
</code></pre>
</div>
</div>
<dl class="notes">
<dt>See Also:</dt>
<dd>
<ul class="tag-list">
<li><a href="https://noiseprotocol.org/noise.html">The Noise Protocol Framework</a></li>
</ul>
</dd>
</dl>
</section>
<section class="summary">
<ul class="summary-list">
<li>
<div id="related-package-summary">
<div class="caption"><span>Related Packages</span></div>
<div class="summary-table two-column-summary">
<div class="table-header col-first">Package</div>
<div class="table-header col-last">Description</div>
<div class="col-first even-row-color"><a href="component/package-summary.html">com.eatthepath.noise.component</a></div>
<div class="col-last even-row-color">
<div class="block">Provides interfaces and concrete implementations of the cryptographic components of a Noise protocol (key agreement
 algorithms, ciphers, and hash algorithms).</div>
</div>
</div>
</div>
</li>
<li>
<div id="class-summary">
<div class="table-tabs" role="tablist" aria-orientation="horizontal"><button id="class-summary-tab0" role="tab" aria-selected="true" aria-controls="class-summary.tabpanel" tabindex="0" onkeydown="switchTab(event)" onclick="show('class-summary', 'class-summary', 2)" class="active-table-tab">All Classes and Interfaces</button><button id="class-summary-tab1" role="tab" aria-selected="false" aria-controls="class-summary.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('class-summary', 'class-summary-tab1', 2)" class="table-tab">Interfaces</button><button id="class-summary-tab2" role="tab" aria-selected="false" aria-controls="class-summary.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('class-summary', 'class-summary-tab2', 2)" class="table-tab">Classes</button><button id="class-summary-tab3" role="tab" aria-selected="false" aria-controls="class-summary.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('class-summary', 'class-summary-tab3', 2)" class="table-tab">Enum Classes</button><button id="class-summary-tab5" role="tab" aria-selected="false" aria-controls="class-summary.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('class-summary', 'class-summary-tab5', 2)" class="table-tab">Exception Classes</button></div>
<div id="class-summary.tabpanel" role="tabpanel">
<div class="summary-table two-column-summary" aria-labelledby="class-summary-tab0">
<div class="table-header col-first">Class</div>
<div class="table-header col-last">Description</div>
<div class="col-first even-row-color class-summary class-summary-tab2"><a href="NamedProtocolHandshakeBuilder.html" title="class in com.eatthepath.noise">NamedProtocolHandshakeBuilder</a></div>
<div class="col-last even-row-color class-summary class-summary-tab2">
<div class="block">A <code>NamedProtocolHandshakeBuilder</code> constructs <a href="NoiseHandshake.html" title="class in com.eatthepath.noise"><code>NoiseHandshake</code></a> instances given a full Noise protocol
 name and a role (initiator or responder).</div>
</div>
<div class="col-first odd-row-color class-summary class-summary-tab2"><a href="NoiseHandshake.html" title="class in com.eatthepath.noise">NoiseHandshake</a></div>
<div class="col-last odd-row-color class-summary class-summary-tab2">
<div class="block">A <code>NoiseHandshake</code> instance is responsible for encrypting and decrypting the messages that comprise a Noise
 handshake.</div>
</div>
<div class="col-first even-row-color class-summary class-summary-tab3"><a href="NoiseHandshake.Role.html" title="enum class in com.eatthepath.noise">NoiseHandshake.Role</a></div>
<div class="col-last even-row-color class-summary class-summary-tab3">
<div class="block">An enumeration of roles within a Noise handshake.</div>
</div>
<div class="col-first odd-row-color class-summary class-summary-tab2"><a href="NoiseHandshakeBuilder.html" title="class in com.eatthepath.noise">NoiseHandshakeBuilder</a></div>
<div class="col-last odd-row-color class-summary class-summary-tab2">
<div class="block">A Noise handshake builder constructs <a href="NoiseHandshake.html" title="class in com.eatthepath.noise"><code>NoiseHandshake</code></a> instances with known handshake patterns and roles.</div>
</div>
<div class="col-first even-row-color class-summary class-summary-tab1"><a href="NoiseTransport.html" title="interface in com.eatthepath.noise">NoiseTransport</a></div>
<div class="col-last even-row-color class-summary class-summary-tab1">
<div class="block">A Noise transport is an interactive reader and writer of Noise transport messages.</div>
</div>
<div class="col-first odd-row-color class-summary class-summary-tab1"><a href="NoiseTransportReader.html" title="interface in com.eatthepath.noise">NoiseTransportReader</a></div>
<div class="col-last odd-row-color class-summary class-summary-tab1">
<div class="block">A Noise transport reader decrypts Noise transport messages.</div>
</div>
<div class="col-first even-row-color class-summary class-summary-tab1"><a href="NoiseTransportWriter.html" title="interface in com.eatthepath.noise">NoiseTransportWriter</a></div>
<div class="col-last even-row-color class-summary class-summary-tab1">
<div class="block">A Noise transport writer encrypts Noise transport messages.</div>
</div>
<div class="col-first odd-row-color class-summary class-summary-tab5"><a href="NoSuchPatternException.html" title="class in com.eatthepath.noise">NoSuchPatternException</a></div>
<div class="col-last odd-row-color class-summary class-summary-tab5">
<div class="block">Indicates that a named pattern is not a recognized fundamental or deferred Noise handshake pattern and cannot be
 derived by modifying a recognized fundamental or deferred Noise handshake pattern.</div>
</div>
</div>
</div>
</div>
</li>
</ul>
</section>
</main>
<footer role="contentinfo">
<hr>
<p class="legal-copy"><small>Copyright &#169; 2024. All rights reserved.</small></p>
</footer>
</div>
</div>
</body>
</html>
